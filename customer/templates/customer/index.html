{% extends 'customer/base.html' %}
{% load crispy_forms_tags %}
{% load static %}

{% block content %}
  <div class="container row mx-auto" id="templatemo_wrapper" style="margin-top: 6.2rem; margin-bottom: 2.4rem;">
    <div class="col-lg-7 col-md-12 col-sm-12 mx-auto">
      <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
        <ol class="carousel-indicators">
          <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
          <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
          <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
          <li data-target="#carouselExampleIndicators" data-slide-to="3"></li>
          <li data-target="#carouselExampleIndicators" data-slide-to="4"></li>
          <li data-target="#carouselExampleIndicators" data-slide-to="5"></li>
        </ol>
        <div class="carousel-inner">
          <div class="carousel-item active">
            <img class="d-block w-100" src="{% static '/images/food/food7.jpg' %}" alt="First slide">
            <div class="carousel-caption d-none d-md-block rounded" style="background-color: rgba(1,1,1,0.4);">
              <h2 style="margin-top: -4%; color: #e47100;">Hungry?</h2>
              <p>Order your favourite food. Have it delivered at your doorstep</p>
            </div>
          </div>
          <div class="carousel-item">
            <img class="d-block w-100" src="{% static '/images/groceries/vegetables (2).jpg' %}" alt="Second slide" style="height: 70vh;">
            <div class="carousel-caption d-none d-md-block rounded" style="background-color: rgba(1,1,1,0.4);">
              <h2 style="margin-top: -4%; color: #e47100;">Need Groceries?</h2>
              <p>Order vegetables from here. Have them delivered at your doorstep</p>
            </div>
          </div>
          <div class="carousel-item" style="margin-top: 1.8rem;">
            <img class="d-block w-100" src="{% static '/images/drinks/drinks3.jpg' %}" alt="Third slide">
            <div class="carousel-caption d-none d-md-block rounded" style="background-color: rgba(1,1,1,0.4);">
              <h2 style="margin-top: -4%; color: #e47100;">Thirsty?</h2>
              <p>Order a beverage of your choice. Have it delivered at your doorstep</p>
            </div>
          </div>
          <div class="carousel-item">
            <img class="d-block w-100" src="{% static '/images/food/food11.jpg' %}" alt="Fourth slide">
            <div class="carousel-caption d-none d-md-block rounded" style="background-color: rgba(1,1,1,0.4);">
              <h2 style="margin-top: -4%; color: #e47100;">Hungry?</h2>
              <p>Order your favourite food. Have it delivered at your doorstep</p>
            </div>
          </div>
          <div class="carousel-item">
            <img class="d-block w-100" src="{% static '/images/groceries/vegetables (3).jpg' %}" alt="Fifth slide">
            <div class="carousel-caption d-none d-md-block rounded" style="background-color: rgba(1,1,1,0.4);">
              <h2 style="margin-top: -4%; color: #e47100;">Need Groceries?</h2>
              <p>Order vegetables from here. Have them delivered at your doorstep</p>
            </div>
          </div>
          <div class="carousel-item" style="margin-top: 1rem;">
            <img class="d-block w-100" src="{%  static '/images/drinks/drinks4.jpg' %}" alt="Sixth slide">
            <div class="carousel-caption d-none d-md-block rounded" style="background-color: rgba(1,1,1,0.4);">
              <h2 style="margin-top: -4%; color: #e47100;">Need a drink?</h2>
              <p>Order a beverage of your choice. Have it delivered at your doorstep</p>
            </div>
          </div>
        </div>
        <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="sr-only">Next</span>
        </a>
      </div>
    </div>

    {% if user.is_authenticated %} 
    <div class="col-lg-4 col-md-12 col-sm-12 mx-auto">
      <div class="card d-flex justify-content-center" style="margin-top: 5%;">
        <div class="text-center">
          <h1>Food App</h1>
          <a href="{% url 'order' %}" class="btn btn-outline-warning">Order Now!</a>
        </div>
      </div>
      <br><br>
    </div>

    {% else %}
    <div class="col-lg-4 col-md-12 col-sm-12">
      <div class="card text-center d-flex align-items-middle" style="margin-top: 5%;">
        <br>
        <h2 style="margin-top: -4%; color: #e47100;">Sign In</h2>
        <br>
        <div class="container">
          <form method="POST",name="Login",value="Login">
            {% csrf_token %}
            {{form| crispy}}
            <input class="btn btn-outline-warning btn-sm" type="submit" name="submit" value="Login">
            {% for message in messages %}
            <p id="messages">{{message}}</p>
            {% endfor %}
          </form>
        </div>
        <hr>
        <div>
          <p>Don't have an account? </p>
          <button class="text-center btn btn-outline-warning btn-sm" data-toggle="modal" data-target=".bd-example-modal-xl">Sign Up</button>
        </div>
        <br>
      </div>
      {% endif %}
    </div>
  </div>

  <div class="container-fluid" style="margin-top:3%;">
    <div class="modal fade bd-example-modal-xl" id="ModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content bg-dark text-white">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLongTitle">Log in</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body bg-dark text-white">
            <form action="" method="post" enctype="multipart/form-data" role="form">
              {% csrf_token %}
              {{ Signupform|crispy }}
              <button style="margin-left: 45%;" type="submit" name="action" class="btn btn-sm btn-warning">Log In</button>
            </form>
            <br>
            </h4>
          </div>
        </div>
      </div>
    </div>
  </div>

{% endblock %}